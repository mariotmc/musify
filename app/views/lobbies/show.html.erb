<%= turbo_stream_from dom_id(Current.player) %>

<%= turbo_frame_tag dom_id(Current.player), class: "flex w-full p-2" do %>
  <%= turbo_frame_tag "players", class: "p-3 border border-gray-200" do %>
    <% @lobby.players.each do |player| %>
      <%= render player %>
    <% end %>
    <%= button_to "Leave Lobby", player_path(id: Current.player.id), data: { turbo_frame: "_top", turbo_confirm: 'Are you sure?' }, method: :delete, class: "text-red-500" %>
  <% end %>

  <%= turbo_frame_tag "game", class: "flex-1 w-full" do %>
    <%= render @lobby.game, player: Current.player %>
  <% end %>
<% end %>
